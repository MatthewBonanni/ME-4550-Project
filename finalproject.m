% Design and analysis script for ME 4550 final design project
%
% Matthew Bonanni, Nicolas Iacovelli, Adrian Kombe, Ryan Loehr, Becca Sung

%% Parameters and Characteristics

% Gear diameters

d_A = 24;
d_C = 10;

% Load parameters

P_Angle = 20;
P_A = 600;

% Length parameters

OA = 20;
AB = 16;
BC = 10;

% Strength characteristics

n = 3;
Sy = 71000;
Sut = 85000;

%% Force balance

% Breaking P_A into components

A_y = P_A * cosd(P_Angle);
A_z = -P_A * sind(P_Angle);

% The torque generated by P_A

T = A_y * (d_A/2);

% Calculate P_C from torque balance

C_z = -T / (d_C / 2);
P_C = -C_z / cosd(P_Angle);
C_y = P_C * sind(P_Angle);

% Z Moment balance around B

O_y = -(A_y * AB + C_y * BC) / (OA + AB);
B_y = -O_y - A_y + C_y;

% Y Moment balance around B

O_z = -(A_z * AB + C_z * BC) / (OA + AB);
B_z = O_z - A_z + C_z;

% Moments at A

M_ay = O_z * OA;
M_az = -O_y * OA;
M_a_tot = sqrt((M_ay^2) + (M_az)^2);

% Moments at B

M_by = -C_z * BC;
M_bz = C_y * BC;
M_b_tot = sqrt((M_by^2)+(M_bz^2));